<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Chỉnh sửa Tài xế</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" />
</head>
<body>
    <div class="container mt-5">
        <h1>Chỉnh sửa Tài xế</h1>
        <form action="/drivers/edit/<%= driver.id %>?_method=PUT" method="post" enctype="multipart/form-data">
            <input type="hidden" name="current_image" value="<%= driver.avatar %>" />
            
            <div class="mb-3">
                <label for="first_name" class="form-label">Tên</label>
                <input type="text" id="first_name" name="first_name" class="form-control" value="<%= driver.first_name %>" required />
            </div>
            
            <div class="mb-3">
                <label for="last_name" class="form-label">Họ</label>
                <input type="text" id="last_name" name="last_name" class="form-control" value="<%= driver.last_name %>" required />
            </div>
            
            <div class="mb-3">
                <label for="license_number" class="form-label">Biển Số Xe</label>
                <input type="text" id="license_number" name="license_number" class="form-control" value="<%= driver.license_number %>" required />
            </div>
            
            <div class="mb-3">
                <label for="experience_years" class="form-label">Số Năm Kinh Nghiệm</label>
                <input type="number" id="experience_years" name="experience_years" class="form-control" value="<%= driver.experience_years %>" required />
            </div>
            
            <div class="mb-3">
                <label for="date_of_birth" class="form-label">Ngày Sinh</label>
                <input type="date" id="date_of_birth" name="date_of_birth" class="form-control" value="<%= driver.date_of_birth.toISOString().split('T')[0] %>" required />
            </div>
            
            <div class="mb-3">
                <label for="address" class="form-label">Địa Chỉ</label>
                <input type="text" id="address" name="address" class="form-control" value="<%= driver.address %>" required />
            </div>
            
            <div class="mb-3">
                <label for="rating" class="form-label">Đánh Giá</label>
                <input type="number" id="rating" name="rating" class="form-control" value="<%= driver.rating %>" min="1" max="5" step="0.1" required />
            </div>
            
            <div class="mb-3">
                <label for="status" class="form-label">Trạng Thái</label>
                <select id="status" name="status" class="form-select" required>
                    <option value="Hoạt động" <%= driver.status === 'Hoạt động' ? 'selected' : '' %>>Hoạt Động</option>
                    <option value="Tạm nghỉ" <%= driver.status === 'Tạm nghỉ' ? 'selected' : '' %>>Tạm Nghỉ</option>
                    <option value="Đã nghỉ việc" <%= driver.status === 'Đã nghỉ việc' ? 'selected' : '' %>>Đã Nghỉ Việc</option>
                </select>
            </div>
            
            <div class="mb-3">
                <label for="user_id" class="form-label">ID Người Dùng</label>
                <input type="number" id="user_id" name="user_id" class="form-control" value="<%= driver.user_id %>" required />
            </div>
            
            <div class="mb-3">
                <label for="avatar" class="form-label">Hình Ảnh</label>
                <input type="file" id="avatar" name="avatar" class="form-control" />
                <div class="mt-2">
                    <% if (driver.avatar) { %>
                    <img src="<%= driver.avatar %>" alt="Hình ảnh hiện tại" style="max-width: 100px" />
                    <% } %>
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary">Cập Nhật Tài Xế</button>
            <a href="/drivers" class="btn btn-secondary">Quay lại danh sách</a>
        </form>
    </div>
</body>
</html>
